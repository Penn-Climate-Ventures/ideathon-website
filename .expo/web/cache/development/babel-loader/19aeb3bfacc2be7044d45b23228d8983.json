{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/aliristang/Desktop/prize-website/.cache/fast-refresh-overlay/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport client from \"webpack-hot-middleware/client\";\nimport ErrorBoundary from \"./components/error-boundary\";\nimport Portal from \"./components/portal\";\nimport Style from \"./components/style\";\nimport BuildError from \"./components/build-error\";\nimport RuntimeError from \"./components/runtime-error\";\n\nvar FastRefreshOverlay = function (_React$Component) {\n  _inherits(FastRefreshOverlay, _React$Component);\n\n  var _super = _createSuper(FastRefreshOverlay);\n\n  function FastRefreshOverlay() {\n    var _this;\n\n    _classCallCheck(this, FastRefreshOverlay);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      errors: [],\n      buildError: null,\n      currentIndex: 0\n    };\n    _this._isMounted = false;\n\n    _this.dismiss = function () {\n      _this.setState({\n        errors: [],\n        currenIndex: 0,\n        buildError: null\n      });\n    };\n\n    _this.addBuildError = function (error) {\n      _this.setState({\n        buildError: error\n      });\n    };\n\n    _this.open = function (file) {\n      var lineNumber = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      window.fetch(\"/__open-stack-frame-in-editor?fileName=\" + window.encodeURIComponent(file) + \"&lineNumber=\" + window.encodeURIComponent(lineNumber));\n    };\n\n    return _this;\n  }\n\n  _createClass(FastRefreshOverlay, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      client.useCustomOverlay({\n        showProblems: function showProblems(type, data) {\n          if (_this2._isMounted) {\n            _this2.addBuildError(data[0]);\n          }\n        },\n        clear: function clear() {\n          _this2.setState({\n            buildError: null\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this,\n          _this$props$children;\n\n      var _this$state = this.state,\n          errors = _this$state.errors,\n          currentIndex = _this$state.currentIndex,\n          buildError = _this$state.buildError;\n      var error = errors[currentIndex];\n      var hasBuildError = buildError !== null;\n      var hasRuntimeError = Boolean(errors.length);\n      var hasErrors = hasBuildError || hasRuntimeError;\n      return React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }\n      }, React.createElement(ErrorBoundary, {\n        clearErrors: function clearErrors() {\n          _this3.setState({\n            errors: [],\n            buildError: null\n          });\n        },\n        onError: function onError(error) {\n          _this3.setState(function (prevState) {\n            var insertedError = {\n              type: \"RUNTIME_ERROR\",\n              error: error\n            };\n            return {\n              errors: [].concat(_toConsumableArray(prevState.errors), [insertedError])\n            };\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, (_this$props$children = this.props.children) != null ? _this$props$children : null), hasErrors ? React.createElement(Portal, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      }, React.createElement(Style, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }), hasBuildError ? React.createElement(BuildError, {\n        error: buildError,\n        open: this.open,\n        dismiss: this.dismiss,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }\n      }) : hasRuntimeError ? React.createElement(RuntimeError, {\n        error: error,\n        open: this.open,\n        dismiss: this.dismiss,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }\n      }) : undefined) : undefined);\n    }\n  }]);\n\n  return FastRefreshOverlay;\n}(React.Component);\n\nexport { FastRefreshOverlay as default };","map":{"version":3,"sources":["/Users/aliristang/Desktop/prize-website/.cache/fast-refresh-overlay/index.js"],"names":["React","client","ErrorBoundary","Portal","Style","BuildError","RuntimeError","FastRefreshOverlay","state","errors","buildError","currentIndex","_isMounted","dismiss","setState","currenIndex","addBuildError","error","open","file","lineNumber","window","fetch","encodeURIComponent","useCustomOverlay","showProblems","type","data","clear","hasBuildError","hasRuntimeError","Boolean","length","hasErrors","prevState","insertedError","props","children","undefined","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport client from \"webpack-hot-middleware/client\"\n\nimport ErrorBoundary from \"./components/error-boundary\"\nimport Portal from \"./components/portal\"\nimport Style from \"./components/style\"\nimport BuildError from \"./components/build-error\"\nimport RuntimeError from \"./components/runtime-error\"\n\nexport default class FastRefreshOverlay extends React.Component {\n  state = {\n    errors: [],\n    buildError: null,\n    currentIndex: 0,\n  }\n\n  _isMounted = false\n\n  dismiss = () => {\n    // eslint-disable-next-line no-invalid-this\n    this.setState({ errors: [], currenIndex: 0, buildError: null })\n  }\n\n  addBuildError = error => {\n    // eslint-disable-next-line no-invalid-this\n    this.setState({ buildError: error })\n  }\n\n  open = (file, lineNumber = 1) => {\n    window.fetch(\n      `/__open-stack-frame-in-editor?fileName=` +\n        window.encodeURIComponent(file) +\n        `&lineNumber=` +\n        window.encodeURIComponent(lineNumber)\n    )\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n\n    client.useCustomOverlay({\n      showProblems: (type, data) => {\n        if (this._isMounted) {\n          this.addBuildError(data[0])\n        }\n      },\n      // We rely on Fast Refresh notifying us on updates as HMR notification is \"not at the right time\"\n      clear: () => {\n        this.setState({ buildError: null })\n      },\n    })\n\n    // TODO: Maybe only do this? Investigate if third-party stuff should be visible\n\n    // window.addEventListener(`error`, error => {\n    //   setProblems(s =>\n    //     s.concat({\n    //       type: `RUNTIME_ERROR`,\n    //       error,\n    //     })\n    //   )\n    // })\n\n    // TODO: Add e2e test case, e.g. useEffect in a component to fetch invalid URL\n\n    // window.addEventListener(`unhandledrejection`, error => {\n    //   setProblems(s =>\n    //     s.concat({\n    //       type: `RUNTIME_ERROR`,\n    //       error: error.reason,\n    //     })\n    //   )\n    // })\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  render() {\n    const { errors, currentIndex, buildError } = this.state\n    const error = errors[currentIndex]\n    const hasBuildError = buildError !== null\n    const hasRuntimeError = Boolean(errors.length)\n\n    const hasErrors = hasBuildError || hasRuntimeError\n\n    return (\n      <React.Fragment>\n        <ErrorBoundary\n          clearErrors={() => {\n            this.setState({ errors: [], buildError: null })\n          }}\n          onError={error => {\n            this.setState(prevState => {\n              const insertedError = { type: `RUNTIME_ERROR`, error }\n              return {\n                errors: [...prevState.errors, insertedError],\n              }\n            })\n          }}\n        >\n          {this.props.children ?? null}\n        </ErrorBoundary>\n        {hasErrors ? (\n          <Portal>\n            <Style />\n            {hasBuildError ? (\n              <BuildError\n                error={buildError}\n                open={this.open}\n                dismiss={this.dismiss}\n              />\n            ) : hasRuntimeError ? (\n              <RuntimeError\n                error={error}\n                open={this.open}\n                dismiss={this.dismiss}\n              />\n            ) : undefined}\n          </Portal>\n        ) : undefined}\n      </React.Fragment>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}