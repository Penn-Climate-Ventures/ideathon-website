{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toArray from \"@babel/runtime/helpers/toArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/aliristang/Desktop/prize-website/.cache/fast-refresh-overlay/components/build-error.js\";\n\nimport React from \"react\";\nimport Overlay from \"./overlay\";\nimport Anser from \"anser\";\nimport CodeFrame from \"./code-frame\";\nimport { prettifyStack } from \"../utils\";\n\nvar BuildError = function BuildError(_ref) {\n  var _detailedError$filter;\n\n  var error = _ref.error,\n      open = _ref.open,\n      dismiss = _ref.dismiss;\n\n  var _error$split = error.split(\"\\n\"),\n      _error$split2 = _toArray(_error$split),\n      file = _error$split2[0],\n      cause = _error$split2[1],\n      _emptyLine = _error$split2[2],\n      rest = _error$split2.slice(3);\n\n  var _rest = _slicedToArray(rest, 2),\n      _fullPath = _rest[0],\n      _detailedError = _rest[1];\n\n  var detailedError = Anser.ansiToJson(_detailedError, {\n    remove_empty: true,\n    json: true\n  });\n  var lineNumberRegex = /^[0-9]*:[0-9]*$/g;\n  var lineNumberFiltered = (_detailedError$filter = detailedError.filter(function (d) {\n    return d.content !== \" \" && d.content.match(lineNumberRegex);\n  })[0]) == null ? void 0 : _detailedError$filter.content;\n  var lineNumber = lineNumberFiltered.substr(0, lineNumberFiltered.indexOf(\":\"));\n  var decoded = prettifyStack(rest);\n  var header = React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    \"data-gatsby-overlay\": \"header__cause-file\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, cause), React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, file)), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return open(file, lineNumber);\n    },\n    \"data-gatsby-overlay\": \"header__open-in-editor\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"Open in editor\"));\n  var body = React.createElement(CodeFrame, {\n    decoded: decoded,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }\n  });\n  return React.createElement(Overlay, {\n    header: header,\n    body: body,\n    dismiss: dismiss,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default BuildError;","map":{"version":3,"sources":["/Users/aliristang/Desktop/prize-website/.cache/fast-refresh-overlay/components/build-error.js"],"names":["React","Overlay","Anser","CodeFrame","prettifyStack","BuildError","error","open","dismiss","split","file","cause","_emptyLine","rest","_fullPath","_detailedError","detailedError","ansiToJson","remove_empty","json","lineNumberRegex","lineNumberFiltered","filter","d","content","match","lineNumber","substr","indexOf","decoded","header","body"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,aAAT,QAA8B,UAA9B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAA8B;AAAA;;AAAA,MAA3BC,KAA2B,QAA3BA,KAA2B;AAAA,MAApBC,IAAoB,QAApBA,IAAoB;AAAA,MAAdC,OAAc,QAAdA,OAAc;;AAC/C,qBAA2CF,KAAK,CAACG,KAAN,MAA3C;AAAA;AAAA,MAAOC,IAAP;AAAA,MAAaC,KAAb;AAAA,MAAoBC,UAApB;AAAA,MAAmCC,IAAnC;;AACA,6BAAoCA,IAApC;AAAA,MAAOC,SAAP;AAAA,MAAkBC,cAAlB;;AACA,MAAMC,aAAa,GAAGd,KAAK,CAACe,UAAN,CAAiBF,cAAjB,EAAiC;AACrDG,IAAAA,YAAY,EAAE,IADuC;AAErDC,IAAAA,IAAI,EAAE;AAF+C,GAAjC,CAAtB;AAIA,MAAMC,eAAe,GAAG,kBAAxB;AACA,MAAMC,kBAAkB,4BAAGL,aAAa,CAACM,MAAd,CACzB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,OAAF,YAAqBD,CAAC,CAACC,OAAF,CAAUC,KAAV,CAAgBL,eAAhB,CAAzB;AAAA,GADwB,EAEzB,CAFyB,CAAH,qBAAG,sBAErBI,OAFN;AAGA,MAAME,UAAU,GAAGL,kBAAkB,CAACM,MAAnB,CACjB,CADiB,EAEjBN,kBAAkB,CAACO,OAAnB,KAFiB,CAAnB;AAIA,MAAMC,OAAO,GAAGzB,aAAa,CAACS,IAAD,CAA7B;AAEA,MAAMiB,MAAM,GACV,0CACE;AAAK,2BAAoB,oBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAInB,KAAJ,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOD,IAAP,CAFF,CADF,EAKE;AACE,IAAA,OAAO,EAAE;AAAA,aAAMH,IAAI,CAACG,IAAD,EAAOgB,UAAP,CAAV;AAAA,KADX;AAEE,2BAAoB,wBAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,CADF;AAeA,MAAMK,IAAI,GAAG,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAEF,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAb;AAEA,SAAO,oBAAC,OAAD;AAAS,IAAA,MAAM,EAAEC,MAAjB;AAAyB,IAAA,IAAI,EAAEC,IAA/B;AAAqC,IAAA,OAAO,EAAEvB,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAnCD;;AAqCA,eAAeH,UAAf","sourcesContent":["import React from \"react\"\nimport Overlay from \"./overlay\"\nimport Anser from \"anser\"\nimport CodeFrame from \"./code-frame\"\nimport { prettifyStack } from \"../utils\"\n\nconst BuildError = ({ error, open, dismiss }) => {\n  const [file, cause, _emptyLine, ...rest] = error.split(`\\n`)\n  const [_fullPath, _detailedError] = rest\n  const detailedError = Anser.ansiToJson(_detailedError, {\n    remove_empty: true,\n    json: true,\n  })\n  const lineNumberRegex = /^[0-9]*:[0-9]*$/g\n  const lineNumberFiltered = detailedError.filter(\n    d => d.content !== ` ` && d.content.match(lineNumberRegex)\n  )[0]?.content\n  const lineNumber = lineNumberFiltered.substr(\n    0,\n    lineNumberFiltered.indexOf(`:`)\n  )\n  const decoded = prettifyStack(rest)\n\n  const header = (\n    <>\n      <div data-gatsby-overlay=\"header__cause-file\">\n        <p>{cause}</p>\n        <span>{file}</span>\n      </div>\n      <button\n        onClick={() => open(file, lineNumber)}\n        data-gatsby-overlay=\"header__open-in-editor\"\n      >\n        Open in editor\n      </button>\n    </>\n  )\n\n  const body = <CodeFrame decoded={decoded} />\n\n  return <Overlay header={header} body={body} dismiss={dismiss} />\n}\n\nexport default BuildError\n"]},"metadata":{},"sourceType":"module"}